!function(){var e,t,n,i=document.getElementById("search-key"),o=(document.getElementById("search-form"),document.getElementById("result-wrap")),r=document.getElementById("result-mask"),a=document.getElementById("search-result"),c=document.getElementById("search-tpl").innerHTML;function u(e,t){return t.lastIndex=0,t.test(e)}function s(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function d(e,t){s(e,t)||(e.className+=" "+t)}function l(e,t){if(s(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}}function m(e){var t=this.value.trim();if(t){var s=new RegExp(t.replace(/[ ]/g,"|"),"gmi");!function(t){if(n)t(n);else{var e=new XMLHttpRequest;e.open("GET","/content.json",!0),e.onload=function(){if(200<=this.status&&this.status<300){var e=JSON.parse(this.response||this.responseText);n=e instanceof Array?e:e.posts,t(n)}else console.error(this.statusText)},e.onerror=function(){console.error(this.statusText)},e.send()}}(function(e){var t,n,i=e.filter(function(e){return n=s,u((t=e).title,n)||t.tags.some(function(e){return u(e.name,n)})||u(t.text,n);var t,n});n="",n=(t=i).length?t.map(function(e){return t=c,n={title:e.title,path:e.path,date:new Date(e.date).toLocaleDateString(),tags:e.tags.map(function(e){return"<span>"+e.name+"</span>"}).join("")},t.replace(/\{\w+\}/g,function(e){var t=e.replace(/\{|\}/g,"");return n[t]||""});var t,n}).join(""):'<div class="tips"><i class="fa fa-empty"></i><p>Results not found!</p></div>',a.innerHTML=n}),e.preventDefault(),l(o,"hide"),l(r,"hide"),i.onfocus=function(){l(o,"hide"),l(r,"hide")}}}window.innerWidth?e=parseInt(window.innerWidth):document.body&&document.body.clientWidth&&(e=parseInt(document.body.clientWidth)),window.innerHeight?t=parseInt(window.innerHeight):document.body&&document.body.clientHeight&&(t=parseInt(document.body.clientHeight)),r.style.width=e+"px",r.style.height=t+"px",i.onfocus=function(){i.addEventListener("input",m)},r.onclick=function(){d(o,"hide"),d(r,"hide")}}();